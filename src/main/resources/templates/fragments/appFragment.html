<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Title</title>
</head>
<body>

<header class="top_header" style="background-image: url('/static/img/backgroundphoto.jpg')" th:fragment="startHeader">
    <div class="header_topline">
        <div class="container">
            <div class="col-md-12">
                <div class="row">
                    <button class="auth_buttons hidden-md hidden-lg hidden-sm"><i class="fa fa-user"></i></button>
                    <div class="top_links">
                        <a href="/account" target="_blank" th:text="${#authentication.getName()}"> </a>
                        <form action="/account/logout" method="post">
                            <input type="submit" th:value="logout"/>
                            <input
                                    type="hidden"
                                    th:name="${_csrf.parameterName}"
                                    th:value="${_csrf.token}"/>
                        </form>
                    </div>
                    <div class="soc_buttons">
                        <a href="//webdesign-master.ru" target="_blank"><i class="fa fa-instagram"
                                                                           aria-hidden="true"></i></a>
                        <a href="//webdesign-master.ru" target="_blank"><i class="fa fa-facebook-square"></i></a>
                        <a href="//webdesign-master.ru" target="_blank"><i class="fa fa-twitter"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="col-md-12">
            <div class="row">


                <a href="#" class="logo"><img src="/static/img/Logo.png"/>ԻՄ ՀԱՇՎԱՊԱՀ</a>

                <nav class="main_mnu clearfix">
                    <button class="main_mnu_button hidden-md hidden-lg">
                        <i class="fa fa-bars"></i>
                    </button>
                    <ul>
                        <li class="active"><a th:href="@{'/account/organization/' + ${organization.id}}"><img
                                src="/static/img/6.png"/></a></li>
                        <li class="active1"><a th:href="@{'/account/cash/' + ${organization.id}}"><img
                                src="/static/img/6 finance.png"/></a></li>
                        <li class="active2"><a th:href="@{'/account/partner/customer/debt/' + ${organization.id}}"><img
                                src="/static/img/6 hands.png"/></a></li>
                        <li class="active3"><a th:href="@{'/account/employee/' + ${organization.id}}"><img
                                src="/static/img/6 peoples.png"/></a></li>
                        <li class="active4"><a th:href="@{'/account/report/summary/' + ${organization.id}}"><img
                                src="/static/img/6 numbers.png"/></a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>


</header>
<div class="row" th:fragment="startView">

    <div class="col-md-5">


    </div>

    <div class="col-md-7">


        <div id='calendar'></div>


    </div>
</div>
<div th:fragment="details">

    <ul>

        <li th:text="${organization.getOrganizationName()}"></li>
        <li th:text="${organization.getHch()}"></li>
        <li th:text="${organization.getActingAddress()}"></li>
        <li th:text="${organization.getCertificateNumber()}"></li>
        <li th:text="${organization.getDateOfOpeningBalances()}"></li>
        <li th:text="${organization.getJuridicalAddress()}"></li>
        <li th:text="${organization.getRegistrationDate()}"></li>
        <li th:text="${organization.getRegistrationNumber()}"></li>
        <li th:text="${organization.getTaxpayerIdentificationNumber()}"></li>
    </ul>

</div>

<div th:fragment="fixedasset" >



    <div id="filterForm" class="range-picker" >
        <a class="btn btn-info" role="button"
           th:href="@{'/account/organization/fixedasset/create/' + ${organization.id} }">Ավելացնել </a>
        <br/>
        <br/>
        <label>Սկիզբ:</label>
        <input type="text" class="datepicker from"/>
        <label>Վերջ:</label>
        <input type="text" class="datepicker to"/>
        <input type="checkbox" id="showAll" name="showAll"/>
        <label> Ցուցադրել բոլորը </label>
        <input name="csrfToken" id="csrfToken"
               type="hidden"
               th:name="${_csrf.parameterName}"
               th:value="${_csrf.token}"/>
    </div>
    <div id="showFixedAssets">


    </div>

    <script>
        function toDate(dateStr) {
            var parts = dateStr.split("/");
            var result = parts[2]+"-"+parts[1]+"-"+parts[0];
            return new Date(result);
        }
        $("<input />").attr("id","input1").text("hello").appendTo($("<body>"));
        var id= $("#input1").attr("id");
        $(function () {
            $('.range-picker').on('change', function () {
                var newRange = String( $(this).attr('data-range'));
                var start="" ;
                var end="";
                var csrf_token = $('#filterForm').find('input[name="_csrf"]').val();
                if(newRange.length>11)
               {
                   start = newRange.substring(0, newRange.indexOf('-'));
                   end   = newRange.substring(newRange.indexOf('-')+1,newRange.length );
               }
               else if(newRange.indexOf('-')==0)
                    end =  newRange.substring(newRange.indexOf('-')+1,newRange.length );
               else
                   start=newRange.substring(0, newRange.indexOf('-'));

              start = toDate(start);
               end = toDate(end);

                var DateRang={
                    start:start,
                    end:end
                }

                   $.ajax({

                        method : "POST",
                        contentType : "application/json",
                        url: '/account/organization/fixedasset/show',
                        dataType: 'json',
                        data :JSON.stringify(DateRang),
                       beforeSend: function(xhr){
                           xhr.setRequestHeader("X-CSRF-TOKEN",  csrf_token);
                       },  success: function (msg) {

                           showFixedAssets(msg);
                           //paramList = "{'username':'" + data.User + "','password':'" + data.Pass + "'}";
                        },

                        error:
                            function(data){

                                console.log(data.responseText);
                            }
                    });

            });
        });
    </script>


</div>
<div th:fragment="fixedassetCreate">


    <form method="post" th:object="${fixedAsset}" action="/account/organization/fixedasset/create"
          id="fixedassetCreate">

        <div class="alert alert-danger" th:if=" ${#fields.hasErrors('*')} ">
            <p th:each="err : ${#fields.errors('*')}" th:text="${err}"></p>
        </div>

        <label>Գույքահամար</label>
        <input th:style="${#fields.hasErrors('inventoryNumber') ? 'border-color: red ;' : ''}"
               type="text"
               th:name="inventoryNumber"
               th:field="*{inventoryNumber}"/>
        <br/>
        <label>Անվանում</label>
        <input th:style="${#fields.hasErrors('name') ? 'border-color: red ;' : ''}"
               type="text"
               th:name="name"
               th:field="*{name}"/>
        <br/>
        <label>Տեսակ </label>
        <input th:style="${#fields.hasErrors('type') ? 'border-color: red;' : ''}"
               type="text"
               th:name="type"
               th:field="*{type}"
        />
        <br/>
        <label>Ձեռքբերման ամսաթիվ</label>
        <input th:style="${#fields.hasErrors('acquiringDate') ? 'border-color: red;' : ''}"
               type="date"
               th:name="acquiringDate"
               th:field="*{acquiringDate}"
        />
        <br/>
        <label>Ձեռքբերման գումար</label>
        <input th:style="${#fields.hasErrors('acquiringАmount') ? 'border-color: red;' : ''}"
               type="text"
               th:name="acquiringАmount"
               th:field="*{acquiringАmount}"
        />
        <br/>
        <label>Մաշվածք</label>
        <input th:style="${#fields.hasErrors('wear') ? 'border-color: red;' : ''}"
               type="text"
               th:name="wear"
               th:field="*{wear}"
        />
        <br/>
        <label>Սկզբնական կուտակված մաշվածք</label>
        <input th:style="${#fields.hasErrors('initialAccumulated') ? 'border-color: red;' : ''}"
               type="text"
               th:name="initialAccumulated"
               th:field="*{initialAccumulated}"
        />
        <br/>
        <label>Նշումներ</label>
        <input th:style="${#fields.hasErrors('nout') ? 'border-color: red;' : ''}"
               type="text"
               th:name="nout"
               th:field="*{nout}"/>
        <br/>

        <input
                type="hidden"
                th:field="*{organization}"
                th:value="${organization}"
        />


        <input name="csrfToken" id="csrfToken"
               type="hidden"
               th:name="${_csrf.parameterName}"
               th:value="${_csrf.token}"/>


        <input type="submit" class="btn btn-default"/>


    </form>


</div>

<div class="container" th:fragment="organizationNavBar">
    <nav role="navigation" class="navbar-justified">

        <div id="organizationNavBar" class="collapse navbar-collapse">
            <ul class="nav nav-justified">
                <li><a th:href="@{'/account/organization/' + ${organization.id}}" id="current">Ընթացիկ</a></li>
                <li><a th:href="@{'/account/organization/details/' + ${organization.id}}" id="details">Տվյալներ</a></li>
                <li><a th:href="@{'/account/organization/fixedasset/' + ${organization.id}}" href="#" id="himnakan">Հիմնական
                    միջոցներ</a></li>
            </ul>
        </div>
    </nav>
</div>

<div class="container" th:fragment="cashNavBar">
    <nav role="navigation" class="navbar-justified">

        <div id="cashNavBar" class="collapse navbar-collapse">
            <ul class="nav nav-justified">


                <li><a th:href="@{'/account/cash/' + ${organization.id}}" id="cashResource"> Դրամական միջոցներ</a></li>
                <li><a th:href="@{'/account/cash/cashin/cashdesk/' + ${organization.id}}" id="in"> Մեւտքեր</a></li>
                <li><a th:href="@{'/account/cash/cashout/cashdesk/' + ${organization.id}}" id="out">Ելքեր</a></li>

            </ul>
        </div>
    </nav>
</div>
<div class="container" th:fragment="cashdesk">

    <form th:object="${walletData}" action="/account/cash/cashdesk" th:name="walletDataForm" method="post">
        <div class="alert alert-danger" th:if="${#fields.hasErrors('*')}">
            <p th:each="err : ${#fields.errors('*')}" th:text="${err}"></p>
            <!--<p th:each="err : ${#fields.detailedErrors()}" th:text="${err.getFieldName()}"></p>-->

        </div>
        <label>Անվանում</label>
        <input type="text"
               th:name="walletName"
               th:field="*{walletName}"
        />
        <label>Սկզբնական մնացորդ</label>
        <input type="text"
               th:name="startBalance"
               th:field="*{startBalance}"
        />
        <label>Մուտքերի համարակալումը սկսել</label>
        <input type="text"
               th:name="startingNumbering"
               th:field="*{startingNumbering}"
        />
        <label>Ելքերի համարակալումը սկսել</label>
        <input type="text"
               th:name="outNumbering"
               th:field="*{outNumbering}"
        />
        <label>Դրամարկղի գրքի թերթերի քանակ</label>
        <input type="text"
               th:name="cashBbookPapers"
               th:field="*{cashBbookPapers}"
        />
        <label>Դրամարկղի գրքի թերթերի համարակալումը սկսել</label>
        <input type="text"
               th:name="startingNumberCashBookPapers"
               th:field="*{startingNumberCashBookPapers}"
        />
        <label>Նշումներ</label>
        <input type="text"
               th:name="notes"
               th:field="*{notes}"
        />

        <input name="csrfToken" id="csrfToken"
               type="hidden"
               th:name="${_csrf.parameterName}"
               th:value="${_csrf.token}"/>


        <input type="submit" class="btn btn-default"/>
    </form>
</div>
<div class="container" th:fragment="cashIn">
    <p>Welcome cashIn !!!!!!!</p>

</div>
<div class="container" th:fragment="cashOut">
    <p>Welcome cashOut !!!!!!!</p>

</div>
<div th:fragment="cashdeskFragmentNavBar">
    <nav role="navigation" class="navbar-justified">

        <div id="cashdeskFragmentNavBar" class="collapse navbar-collapse">
            <ul class=" nav flex-column">

                <li class="nav-item"><a class="nav-link active"
                                        th:href="@{'/account/cash/cashdesk/' + ${organization.id}}"> Դրամապանակի
                    տվյալններ </a></li>
                <li class="nav-item"><a class="nav-item" th:href="@{'' + ${organization.id}}" id="terminalData">Տերմինալի
                    տվյալներ</a></li>
                <li class="nav-item"><a class="nav-item" th:href="@{'' + ${organization.id}}" id="bankAccounts">Բանկային
                    հաշիվներ</a></li>
            </ul>
        </div>
    </nav>
</div>
<div th:fragment="cashInFragmentNavBar">
    <nav role="navigation" class="navbar-justified">

        <div id="cashInFragmentNavBar" class="collapse navbar-collapse">
            <ul class=" nav flex-column ">

                <li class="nav-item"><a class="nav-link active" th:href="@{'' + ${organization.id}}" id="wallet">
                    Դրամապանակ </a></li>
                <li class="nav-item"><a class="nav-item" th:href="@{'' + ${organization.id}}" id="terminal">Տերմինալ</a>
                </li>
                <li class="nav-item"><a class="nav-item" th:href="@{'' + ${organization.id}}" id="bank">Բանկ</a></li>
            </ul>
        </div>
    </nav>
</div>
<div th:fragment="cashOutFragmentNavBar">
    <nav role="navigation" class="navbar-justified">

        <div id="cashOutFragmentNavBar" class="collapse navbar-collapse">
            <ul class=" nav flex-column ">
                <li class="nav-item"><a class="nav-link active" th:href="@{'' + ${organization.id}}" id="wallet">
                    Դրամապանակ </a></li>

                <li class="nav-item"><a class="nav-item" th:href="@{'' + ${organization.id}}" id="bank">Բանկ</a></li>
            </ul>
        </div>
    </nav>
</div>
<div class="row" th:fragment="cash">

    <div class="col-md-4">


    </div>

    <div class="col-md-8">
        <h1>WELCOME CASH !!!</h1>

    </div>
</div>


<div class="container" th:fragment="partnerNavBar">
    <nav role="navigation" class="navbar-justified">

        <div id="partnerNavBar" class="collapse navbar-collapse">
            <ul class="nav nav-justified">

                <li><a th:href="@{'/account/partner/customer/debt/' + ${organization.id}}" id="customers">Գնորդներ</a>
                </li>
                <li><a th:href="@{'/account/partner/supplier/debt/' + ${organization.id}}"
                       id="delivery">Մատակարարներ</a></li>
                <li><a th:href="@{'/account/partner/otherpartner/debt/' + ${organization.id}}" id="anotherPartners">Այլ
                    գործընկերներ</a></li>
            </ul>
        </div>
    </nav>
</div>
<div th:fragment="partnerFragmentNavBar">
    <nav role="navigation" class="navbar-justified">

        <div id="partnerFragmentNavBar" class="collapse navbar-collapse">
            <ul class=" nav flex-column">
                <li class="nav-item"><a class="nav-link active" th:href="@{'' + ${organization.id}}" id="debts">
                    Պարտքեր </a></li>
                <li class="nav-item"><a class="nav-item" th:href="@{'' + ${organization.id}}" id="sellout">Վաճառքներ</a>
                </li>
                <li class="nav-item"><a class="nav-item" th:href="@{'' + ${organization.id}}" id="payment">Ստացված
                    վճարումներ</a></li>
                <li class="nav-item"><a class="nav-item" th:href="@{'' + ${organization.id}}" id="customerTable">Գնորդների
                    ցանկ</a></li>
            </ul>
        </div>
    </nav>
</div>
<div th:fragment="partnerSupplierFragmentNavBar">
    <nav role="navigation" class="navbar-justified">

        <div id="partnerSupplierFragmentNavBar" class="collapse navbar-collapse">
            <ul class=" nav flex-column ">
                <li class="nav-item"><a class="nav-link active" th:href="@{'' + ${organization.id}}" id="supplierDebt">
                    Պարտքեր</a></li>
                <li class="nav-item"><a class="nav-item" th:href="@{'' + ${organization.id}}" id="purchase">Ձեռքբերումներ</a>
                </li>
                <li class="nav-item"><a class="nav-item" th:href="@{'' + ${organization.id}}" id="periodicService">Ծառայություններ</a>
                </li>
                <li class="nav-item"><a class="nav-item" th:href="@{'' + ${organization.id}}" id="supplierPayment">Կատարված
                    վճարումներ</a></li>
                <li class="nav-item"><a class="nav-item" th:href="@{'' + ${organization.id}}" id="supplierTable">Մատակարարների
                    ցանկ</a></li>
            </ul>
        </div>
    </nav>
</div>
<div th:fragment="partnerOtherPartnerFragmentNavBar">
    <nav role="navigation" class="navbar-justified">

        <div id="partnerOtherPartnerFragmentNavBar" class="collapse navbar-collapse">
            <ul class=" nav flex-column ">
                <li class="nav-item"><a class="nav-link active" th:href="@{'' + ${organization.id}}"
                                        id="otherPartnerDebt"> Պարտքեր</a></li>
                <li class="nav-item"><a class="nav-item" th:href="@{'' + ${organization.id}}" id="otherPartnerPayment">Վճարումներ</a>
                </li>
                <li class="nav-item"><a class="nav-item" th:href="@{'' + ${organization.id}}" id="group">Խմբեր</a></li>
                <li class="nav-item"><a class="nav-item" th:href="@{'' + ${organization.id}}" id="otherPartnerTable">Այլ
                    գորընկերների ցանկ</a></li>

            </ul>
        </div>
    </nav>
</div>
<div class="row" th:fragment="partner">

    <div class="col-md-4">


    </div>

    <div class="col-md-8">
        <h1>WELCOME Partner !!!</h1>

    </div>
</div>


<div class="container" th:fragment="employeeNavBar">
    <nav role="navigation" class="navbar-justified">

        <div id="employeeNavBar" class="collapse navbar-collapse">
            <ul class="nav nav-justified">


                <li><a th:href="@{'/account/employee/' + ${organization.id}}" id="employeers">Աշխատակիցներ</a></li>
                <li><a th:href="@{'/account/employee/debt/' + ${organization.id}}" id="salary">Վարձատրություն</a></li>
                <li><a th:href="@{'' + ${organization.id}}" id="accounting">Հաշվարկ</a></li>

            </ul>
        </div>
    </nav>
</div>
<div th:fragment="employeeFragmentNavBar">
    <nav role="navigation" class="navbar-justified">

        <div id="employeeFragmentNavBar" class="collapse navbar-collapse">
            <ul class=" nav flex-column">
                <li class="nav-item"><a class="nav-link active" th:href="@{'' + ${organization.id}}" id="employeeDesk">
                    Աշխատակիցներ </a></li>
                <li class="nav-item"><a class="nav-item" th:href="@{'' + ${organization.id}}" id="subdivision">Ստորաբաժանումներ</a>
                </li>
                <li class="nav-item"><a class="nav-item" th:href="@{'' + ${organization.id}}"
                                        id="position">Պաշտոններ</a></li>
            </ul>
        </div>
    </nav>
</div>
<div th:fragment="employeeDebtFragmentNavBar">
    <nav role="navigation" class="navbar-justified">

        <div id="employeeDebtFragmentNavBar" class="collapse navbar-collapse">
            <ul class=" nav flex-column">
                <li class="nav-item"><a class="nav-link active" th:href="@{'' + ${organization.id}}" id="employeeDebt">Պարտք </a>
                </li>
                <li class="nav-item"><a class="nav-item" th:href="@{'' + ${organization.id}}" id="employeeSalary">Աշխատավարձեր</a>
                </li>
                <li class="nav-item"><a class="nav-item" th:href="@{'' + ${organization.id}}"
                                        id="vacation">Արձակուրդներ</a></li>
                <li class="nav-item"><a class="nav-item" th:href="@{'' + ${organization.id}}" id="absence">Բացակայություններ</a>
                </li>
                <li class="nav-item"><a class="nav-item" th:href="@{'' + ${organization.id}}" id="bonus">Պարգևներներ</a>
                </li>
            </ul>
        </div>
    </nav>
</div>
<div class="row" th:fragment="employee">

    <div class="col-md-4">


    </div>

    <div class="col-md-8">
        <h1>WELCOME Employee!!!</h1>

    </div>


</div>


<div class="container" th:fragment="reportNavBar">
    <nav role="navigation" class="navbar-justified">

        <div id="reportNavBar" class="collapse navbar-collapse">
            <ul class="nav nav-justified">

                <li><a th:href="@{'/account/report/summary/' + ${organization.id}}" id="summaryData">Ամփոփ տվյալներ</a>
                </li>
                <li><a th:href="@{'/account/report/summary/debt/' + ${organization.id}}" id="tax">Հարկեր</a></li>

            </ul>
        </div>
    </nav>
</div>
<div th:fragment="reportFragmentNavBar">
    <nav role="navigation" class="navbar-justified">

        <div id="reportFragmentNavBar" class="collapse navbar-collapse">
            <ul class="nav flex-column">
                <li><a th:href="@{'' + ${organization.id}}" id="summary">Փակում</a></li>
                <li><a th:href="@{'' + ${organization.id}}" id="initialBalances">Սկզբնական մնացորդներ</a></li>
                <li><a th:href="@{'' + ${organization.id}}" id="turnover">Շրջանառություն</a></li>
                <li><a th:href="@{'' + ${organization.id}}" id="profitLoss">Ֆինանսական արդյունք</a></li>
                <li><a th:href="@{'' + ${organization.id}}" id="transaction">Գործառություններ</a></li>
            </ul>
        </div>
    </nav>
</div>
<div th:fragment="reportDebtFragmentNavBar">
    <nav role="navigation" class="navbar-justified">

        <div id="reportDebtFragmentNavBar" class="collapse navbar-collapse">
            <ul class=" nav flex-column">
                <li><a th:href="@{'' + ${organization.id}}" id="reportDebt">Պարտքեր</a></li>
                <li><a th:href="@{'' + ${organization.id}}" id="report">Հաշվետվություններ</a></li>
                <li><a th:href="@{'' + ${organization.id}}" id="reportPaidTax">Վճարված հարկեր</a></li>
                <li><a th:href="@{'' + ${organization.id}}" id="reportTax">Հարկատեսակներ</a></li>
            </ul>
        </div>
    </nav>
</div>
<div class="row" th:fragment="report">

    <div class="col-md-4">


    </div>

    <div class="col-md-8">
        <h1>WELCOME Report!!!</h1>

    </div>


</div>

</body>
</html>