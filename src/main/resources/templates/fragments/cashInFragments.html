<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Title</title>
</head>
<body>
<div th:fragment="cashIn">
    <div class="row">
        <br />
        <div class="container" >
            <div class='col-md-2'>
                <a class="btn btn-info" role="button" th:href="@{'/account/cash/cashin/cashdesk/create/'}">Ավելացնել </a>
                <br />
                <br />
            </div>
        </div>
    </div>
    <div class="row">
        <div class="container" id="datetimepicker1">
            <div class='col-md-2'>
                <div class="form-group">
                    <div class='input-group date' id='datetimepicker6'>
                        <input type="text" class="form-control" id="datepickerStart" />
                        <span class="input-group-addon">
                        <span class="glyphicon glyphicon-calendar"></span>
                    </span>
                    </div>
                </div>
            </div>
            <div class='col-md-2'>
                <div class="form-group">
                    <div class='input-group date' id='datetimepicker7'>
                        <input type="text" class="form-control" id="datepickerEnd" />
                        <span class="input-group-addon">
                        <span class="glyphicon glyphicon-calendar"></span>
                    </span>
                    </div>
                </div>
            </div>
            <div class='col-md-3'>
                <div class="form-group">
                    <div class="form-check" >
                        <input type="checkbox" class="form-check-input" id="showAll" />
                        <label class="form-check-label" for="showAll" >Ցուցադրել բոլորը</label>
                    </div>
                </div>
            </div>

            <input name="csrfToken" id="csrfToken"
                   type="hidden"

                   th:name="${_csrf.parameterName}"
                   th:value="${_csrf.token}"
            />
        </div>
    </div>
    <div id="showCashIn" >

    </div>
    <script th:inline="javascript" >
        /*<![CDATA[*/
        $( "#datepickerStart" ).datepicker();
        $( "#datepickerEnd" ).datepicker();
        $(document).ready(function() {
            var csrf_token = $('#datetimepicker1').find('input[name="_csrf"]').val();
            var datePickerStart = $( "#datepickerStart.hasDatepicker" ).datepicker("setDate",new Date( new Date().getFullYear(),new Date().getMonth(),1));
            var datePickerEnd = $( "#datepickerEnd.hasDatepicker" ).datepicker("setDate",new Date( new Date().getFullYear(),new Date().getMonth()+1,0));
            var DateRang ={
                start:datePickerStart.datepicker("getDate"),
                end:datePickerEnd.datepicker("getDate"),
                showAll:Boolean($("#showAll").is(':checked'))
            }
            console.log(DateRang);

            $.ajax({
                method : "POST",
                contentType : "application/json",
                url: '/account/cash/cashin/cashdesk/show',
                dataType: 'json',
                data :JSON.stringify(DateRang),
                beforeSend: function(xhr){
                    xhr.setRequestHeader("X-CSRF-TOKEN",  csrf_token);
                },  success: function (msg){
                    if(msg == null)
                        $("#showCashIn").empty();
                    else
                    {
                        console.log(msg);
                        showCashIn(msg);
                    }


                },
                error:
                    function(data){

                        console.log(data.responseText);
                    }
            });

            datePickerStart.on("change", function() {
                $.ajax({
                    method : "POST",
                    contentType : "application/json",
                    url: '/account/cash/cashin/cashdesk/show',
                    dataType: 'json',
                    data :JSON.stringify(DateRang),
                    beforeSend: function(xhr){
                        xhr.setRequestHeader("X-CSRF-TOKEN",  csrf_token);
                    },  success: function (msg){
                        if(msg == null)
                            $("#showCashIn").empty();
                        else
                        {
                            console.log(msg);
                            showCashIn(msg);
                        }


                    },
                    error:
                        function(data){

                            console.log(data.responseText);
                        }
                });
            });
            datePickerEnd.on("change", function() {
                $.ajax({
                    method : "POST",
                    contentType : "application/json",
                    url: '/account/cash/cashin/cashdesk/show',
                    dataType: 'json',
                    data :JSON.stringify(DateRang),
                    beforeSend: function(xhr){
                        xhr.setRequestHeader("X-CSRF-TOKEN",  csrf_token);
                    },  success: function (msg){
                        if(msg == null)
                            $("#showCashIn").empty();
                        else
                        {
                            console.log(msg);
                            showCashIn(msg);
                        }


                    },
                    error:
                        function(data){

                            console.log(data.responseText);
                        }
                });
            });
        });

        /*]]>*/
    </script>

</div><div class="container" th:fragment="cashInCreate" >
    <a class="btn btn-primary btn-lg " th:href="@{'/account/cash/cashin/cashdesk/create/cashinfrompointofsale'}" > Մուտք առևտրի կետից </a>
    <a class="btn btn-primary btn-lg " th:href="@{'/account/cash/cashin/cashdesk/create/cashinfromsaleofgoods'}" > Մուտք ապրանքների իրացումից </a>
    <a class="btn btn-primary btn-lg " th:href="@{'/account/cash/cashin/cashdesk/create/cashinfromserviceprovision'}" > Մուտք ծառայության մատուցումից </a>
    <a class="btn btn-primary btn-lg " th:href="@{'/account/cash/cashin/cashdesk/create/cashinfrombankaccount'}" > Մուտք բանկային հաշվից </a>
    <a class="btn btn-primary btn-lg " th:href="@{'/account/cash/cashin/cashdesk/create/cashinfromloan'}" > Փոխառության ստացում </a>
    <a class="btn btn-primary btn-lg " th:href="@{'/account/cash/cashin/cashdesk/create/cashinfromcredit'}" > Վարկի ստացում </a>
</div>

<div class="container" th:fragment="customerAndColleaguesCreate" >

    <a class="btn btn-primary btn-lg " th:href="@{'/account/cash/create/customer/customerclientorganization'}" >Կազմակերպություն </a>
    <a class="btn btn-primary btn-lg " th:href="@{'/account/cash/create/customer/customerindividual'}" >Անհատ </a>

</div>
<div class="container" th:fragment="customerAndColleaguesCreateOtherPartner" >

    <a class="btn btn-primary btn-lg " th:href="@{'/account/cash/create/otherpartner/otherpartnerclientorganization'}" >Կազմակերպություն </a>
    <a class="btn btn-primary btn-lg " th:href="@{'/account/cash/create/otherpartner/otherpartnerindividual'}" >Անհատ </a>

</div>
<div class="container" th:fragment="customerAndColleaguesCreateSupplier" >

    <a class="btn btn-primary btn-lg " th:href="@{'/account/cash/create/supplier/supplierclientorganization'}" >Կազմակերպություն </a>
    <a class="btn btn-primary btn-lg " th:href="@{'/account/cash/create/supplier/supplierindividual'}" >Անհատ </a>

</div>

<div class="container" th:fragment="cashInCreateCashInFromPointOfSale" >

    <form th:object="${cashInFromPointOfSale}" action="/account/cash/cashin/cashdesk/create/cashinfrompointofsale" id="walletInCreate"  method="post" >
        <div class="alert alert-danger" th:if="${#fields.hasErrors('*')}" >
            <p th:each="err : ${#fields.errors('*')}" th:text="${err}"></p>
        </div>

        <br />


        <label>Ամսաթիվ</label>
        <input type="date"
               th:name="inDate"
               th:field="*{walletIn.inDate}"

        />
        <br />

        <label>Մուտքի գումար</label>
        <input type="text"
               th:name="inCash"
               th:field="*{walletIn.inCash}"
        />
        <br />
        <label>Նշումներ</label>
        <input type="text"
               th:name="note"
               th:field="*{walletIn.note}"
        />
        <br />
        <input
                type="hidden"
                th:field="*{id}"
                th:value="${id}"
        />

        <input
                type="hidden"
                th:field="*{organization}"
                th:value="${organization}"
        />

        <input name="csrfToken" id="csrfToken"
               type="hidden"
               th:name="${_csrf.parameterName}"
               th:value="${_csrf.token}"
        />


        <input type="submit" class="btn btn-default" />
    </form >

</div>
<div class="container" th:fragment="cashInCreateBankAccount" >

    <form th:object="${cashInFromBankAccount}" action="/account/cash/cashin/cashdesk/create/cashinfrombankaccount" id="cashInFrom"  method="post" >
        <div class="alert alert-danger" th:if="${#fields.hasErrors('*')}" >
            <p th:each="err : ${#fields.errors('*')}" th:text="${err}"></p>
        </div>

        <br />
        <select th:field="*{bankAccount}"
                th:name="bankAccount"
        >
            <option value=""> __ԸՆՏՐԵԼ__ </option>
            <option th:each="account : ${accountList}"
                    th:value="${account.bankAccount}"
                    th:text= "${account.bankName + '--' + account.bankAccount}" />
        </select>

        <label>Ամսաթիվ</label>
        <input type="date"
               th:name="inDate"
               th:field="*{walletIn.inDate}"
        />
        <br />

        <label>Մուտքի գումար</label>
        <input type="text"
               th:name="inCash"
               th:field="*{walletIn.inCash}"
        />
        <br />
        <label>Նշումներ</label>
        <input type="text"
               th:name="note"
               th:field="*{walletIn.note}"
        />
        <br />
        <input
                type="hidden"
                th:field="*{id}"
                th:value="${id}"
        />

        <input
                type="hidden"
                id="organizationId"
                th:field="*{organization}"
                th:value="${organization}"
        />

        <input name="csrfToken" id="csrfToken"
               type="hidden"
               th:name="${_csrf.parameterName}"
               th:value="${_csrf.token}"
        />


        <input type="submit" class="btn btn-default" />
    </form >

</div>
<div class="container" th:fragment="cashInCreateCashInFromSaleOfGoods" >

    <form th:object="${cashInFromSaleOfGoods}" action="/account/cash/cashin/cashdesk/create/cashinfromsaleofgoods" id="walletInCreate"  method="post" >
        <div class="alert alert-danger" th:if="${#fields.hasErrors('*')}" >
            <p th:each="err : ${#fields.errors('*')}" th:text="${err}"></p>
        </div>

        <br />

        <label>Գնորդ</label>
        <select th:field="*{customerName}"
                th:name="customerName"
        >
            <option value=""> __ԸՆՏՐԵԼ__ </option>
            <option th:each="customer : ${customerList}"
                    th:value="${customer.id}"
                    th:text="${customer.getName()}" />
        </select>
        <a type="button" th:href="@{'/account/cash/create/customer'}" class="btn btn-default btn-sm" >
            <span class="glyphicon glyphicon-plus-sign"></span> Գնորդ
        </a>
        <br />
        <label>Ամսաթիվ</label>
        <input type="date"
               th:name="inDate"
               th:field="*{walletIn.inDate}"
        />
        <br />

        <label>Մուտքի գումար</label>
        <input type="text"
               th:name="inCash"
               th:field="*{walletIn.inCash}"
        />
        <br />

        <label>Պայմանագրի ամսաթիվ</label>
        <input type="date"
               th:name="contractDate"
               th:field="*{contractDate}"
        />
        <br />


        <label>Պայմանագրի համար</label>
        <input type="text"
               th:name="contractNubmer"
               th:field="*{contractNubmer}"
        />
        <br />
        <label>Նշումներ</label>
        <input type="text"
               th:name="note"
               th:field="*{walletIn.note}"
        />
        <br />
        <input
                type="hidden"
                th:field="*{id}"
                th:value="${id}"
        />

        <input
                type="hidden"
                id="organizationId"
                th:field="*{organization}"
                th:value="${organization}"
        />

        <input name="csrfToken" id="csrfToken"
               type="hidden"
               th:name="${_csrf.parameterName}"
               th:value="${_csrf.token}"
        />


        <input type="submit" class="btn btn-default" />
    </form >

</div>
<div class="container" th:fragment="cashInCreateCashInFromLoan" >

    <form th:object="${cashInFromLoan}" action="/account/cash/cashin/cashdesk/create/cashinfromloan" id="cashInFromLoanCreate"  method="post" >
        <div class="alert alert-danger" th:if="${#fields.hasErrors('*')}" >
            <p th:each="err : ${#fields.errors('*')}" th:text="${err}"></p>
        </div>

        <br />

        <label>Այլ Գործընկեր</label>
        <select th:field="*{colleagues}"
                th:name="colleagues"
        >
            <option value=""> __ԸՆՏՐԵԼ__ </option>
            <option th:each="colleague : ${colleaguesList}"
                    th:value="${colleague.id}"
                    th:text="${colleague.getName()}" />
        </select>
        <a type="button" th:href="@{'/account/cash/create/otherpartner'}" class="btn btn-default btn-sm" >
            <span class="glyphicon glyphicon-plus-sign"></span> Այլ գործընկեր
        </a>
        <br />
        <label>Ամսաթիվ</label>
        <input type="date"
               th:name="inDate"
               th:field="*{walletIn.inDate}"
        />
        <br />

        <label>Մուտքի գումար</label>
        <input type="text"
               th:name="inCash"
               th:field="*{walletIn.inCash}"
        />
        <br />



        <label>Պայմանագրի ամսաթիվ</label>
        <input type="date"
               th:name="contractDate"
               th:field="*{contractDate}"
        />
        <br />


        <label>Պայմանագրի համար</label>
        <input type="text"
               th:name="forContract"
               th:field="*{forContract}"
        />
        <br />
        <label>Նշումներ</label>
        <input type="text"
               th:name="note"
               th:field="*{walletIn.note}"
        />
        <br />
        <input
                type="hidden"
                th:field="*{id}"
                th:value="${id}"
        />

        <input
                type="hidden"
                id="organizationId"
                th:field="*{organization}"
                th:value="${organization}"
        />

        <input name="csrfToken" id="csrfToken"
               type="hidden"
               th:name="${_csrf.parameterName}"
               th:value="${_csrf.token}"
        />


        <input type="submit" class="btn btn-default" />
    </form >

</div>
<div class="container" th:fragment="cashInCreateCashInFromServiceProvision" >

    <form th:object="${cashInFromServiceProvision}" action="/account/cash/cashin/cashdesk/create/cashinfromserviceprovision"   method="post" >
        <div class="alert alert-danger" th:if="${#fields.hasErrors('*')}" >
            <p th:each="err : ${#fields.errors('*')}" th:text="${err}"></p>
        </div>

        <br />

        <label>Գնորդ</label>
        <select th:field="*{customerName}"
                th:name="customerName"
        >
            <option value=""> __ԸՆՏՐԵԼ__ </option>
            <option th:each="customer : ${customerList}"
                    th:value="${customer.getName()}"
                    th:text="${customer.getName()}" />
        </select>
        <a type="button" th:href="@{'/account/cash/create/customer'}" class="btn btn-default btn-sm" >
            <span class="glyphicon glyphicon-plus-sign"></span> Գնորդ
        </a>
        <br />
        <label>Ամսաթիվ</label>
        <input type="date"
               th:name="inDate"
               th:field="*{walletIn.inDate}"
        />
        <br />

        <label>Մուտքի գումար</label>
        <input type="text"
               th:name="inCash"
               th:field="*{walletIn.inCash}"
        />
        <br />



        <label>Պայմանագրի ամսաթիվ</label>
        <input type="date"
               th:name="contractDate"
               th:field="*{contractDate}"
        />
        <br />


        <label>Պայմանագրի համար</label>
        <input type="text"
               th:name="contractNubmer"
               th:field="*{contractNubmer}"
        />
        <br />
        <label>Նշումներ</label>
        <input type="text"
               th:name="note"
               th:field="*{walletIn.note}"
        />
        <br />
        <input
                type="hidden"
                th:field="*{id}"
                th:value="${id}"
        />

        <input
                type="hidden"
                id="organizationId"
                th:field="*{organization}"
                th:value="${organization}"
        />

        <input name="csrfToken" id="csrfToken"
               type="hidden"
               th:name="${_csrf.parameterName}"
               th:value="${_csrf.token}"
        />


        <input type="submit" class="btn btn-default" />
    </form >

</div>
<div class="container" th:fragment="cashInCreateCashInFromCredit" >

    <form th:object="${cashInFromCredit}" action="/account/cash/cashin/cashdesk/create/cashinfromcredit" id="cashInFromCredit"  method="post" >
        <div class="alert alert-danger" th:if="${#fields.hasErrors('*')}" >
            <p th:each="err : ${#fields.errors('*')}" th:text="${err}"></p>
        </div>

        <br />

        <label>Այլ Գործընկեր</label>
        <select th:field="*{colleagues}"
                th:name="colleagues"
        >
            <option value=""> __ԸՆՏՐԵԼ__ </option>
            <option th:each="colleague : ${colleaguesList}"
                    th:value="${colleague.id}"
                    th:text="${colleague.getName()}" />
        </select>
        <a type="button" th:href="@{'/account/cash/create/customer'}" class="btn btn-default btn-sm" >
            <span class="glyphicon glyphicon-plus-sign"></span> Գնորդ
        </a>
        <br />
        <label>Ամսաթիվ</label>
        <input type="date"
               th:name="inDate"
               th:field="*{walletIn.inDate}"
        />
        <br />

        <label>Մուտքի գումար</label>
        <input type="text"
               th:name="inCash"
               th:field="*{walletIn.inCash}"
        />
        <br />
        <label>Նշումներ</label>
        <input type="text"
               th:name="note"
               th:field="*{walletIn.note}"
        />
        <br />
        <input
                type="hidden"
                th:field="*{id}"
                th:value="${id}"
        />
        <input
                type="hidden"
                id="organizationId"
                th:field="*{organization}"
                th:value="${organization}"
        />
        <input name="csrfToken" id="csrfToken"
               type="hidden"
               th:name="${_csrf.parameterName}"
               th:value="${_csrf.token}"
        />


        <input type="submit" class="btn btn-default" />
    </form >

</div>

</body >
</html>